<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Application</title>
    <title> Lets Chat App</title>
 <link rel="stylesheet" type="text/css" href="../../Style/Style.css">
 <link rel="stylesheet" type="text/css" href="../../Style/Style_Chat.css">
 <link rel="stylesheet"  type ="text/css"  href = "../../Style/Group.css">
 <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
</head>
<body>
<header>
<h1>Lets Chat App</h1>
<p><a href="../simpleChat_js/chat.html">GO to Universal Chat Page</a></p>
</header>
</head>
<body>
   
   <main>
    <div class="slider">
        <div class="left">
            <section>
                <div id ="group" class="group-Creation"> 
                    <h5 class="head">  Create Groups :</h5>
                    <button class="create-grp" id="openCreateGrp">Create New Group </button>
                    <div id="groups" class="groups">
                   <h5 class="head"> Get Groups :</h5>
                    <button onclick="callGrp(event)" class="diffGrps" id="some">Get Your Group</button>
                    <span id="error"></span>
                    </div>
                </div>
                </section>
                <section>
                    <div class="add-grp-section" id="popup" style="display: none;">
                      <form onsubmit="SaveGrpMembers(event)" id="container">
                          <a style="cursor: pointer;" id="closeCreateGrp" class="close">X (CLOSE)</a>
                          <div class="form-group">
                              <label for="grp_name">Group Name:</label>
                              <input type="text" name="grp_name" id="grp_name" placeholder="Enter group name">
                          </div>
                          <div class="form-group">
                              <button type="button" onclick="showUserList()">Add People</button>
                          </div>
                          <div id="add-people" class="add-people">
                              <!-- User list will be displayed here -->
                          </div>
                          <button type="submit" class="create">Create</button>
                      </form>
                  </div>
              </section>
        </div>   
        <div class="right">
            <section>
                    <div class="group-header">
                        <h3>Welcome To: <span id="grpName"></span></h3>
                        <div id="forAdmin" class="button-container">
                            <button id="addmember" value="addmember">Add User</button>
                            <button id="addAdmin" value="Make Admin">Add Admin</button>
                            <button id="removeGroupUser" value="Remove User">Remove User</button>
                        </div>
                    </div>

                    <form>
                        <div id="admin-form" class="admin-form" style="display: none; width: 100px;">
                            <div id="admincontrol" class="add-people">
                                <!-- User list will be displayed here -->
                            </div>
                            <div class="create-button">
                                <button id='makeMemberAdmin' type="submit" class="create" style="display: none;">makeAdmin</button>
                                <button id='addMemberInGroup' type="submit" class="create" style="display: none;">add user</button>
                                <button id='removeMember' type="submit" class="create" style="display: none;">remove user</button>
                            </div>
                        </div>
                    </form>

                    <div id="user-list">
                        <ul id="users"></ul>
                    </div>
                    <div id="chat-container" class="chat-container" style="display: none;">
                    <div id="chat-content">
                        <ul id="messages"></ul>
                        <div class="message-input">
                            <input type="text" id="messageInput" placeholder="Type your message...">
                            <button id="send-button" onclick="sendChat(event)">Send</button>
                            <form id="fileForm" enctype="multipart/form-data" style="display:flex;">
                                <label for="fileUpload">
                                    <i class="fa fa-paperclip" aria-hidden="true"></i>
                                    <span>Attach File</span>
                                </label>
                                <input type="file" id="fileUpload" accept=".jpg,.png,.gif" />
                                <button type="button" onclick="uploadFile()" id="uploadButton" style="display:none; width: 300px;">Upload</button>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <main>  
<script>
const baseUrl = 'http://localhost:3000'; // base URL  
const socket = io('http://localhost:3000');
</script>
<script src ="createGroup.js"></script>
<script src="showGroup.js"></script>
<script src="admin.js"></script>
<script src="uploadFile.js"></script>
<!-- <script src="sendGroupChat.js"></script> -->
<script src="socket.js"></script>
</body>
</html>
